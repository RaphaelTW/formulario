<!DOCTYPE html>
<html lang="PT-BR">

<head>
    <meta charset="UTF-8" dir="ltr"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <meta name="description" content="PIM 4"/>

    <title>Formulário PIM 4</title>

    <link rel="stylesheet" href="css/reset.css"/>

    <!-- [Bootstrap] -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous"/>

    <!-- [Bootstrap Icons] -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css"/>

    <!-- [MDB] -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.css"
          rel="stylesheet"/>

    <!-- [Font Awesome] -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
          rel="stylesheet"/>

    <!-- [Google Fonts] -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
          rel="stylesheet"/>

    <link rel="stylesheet" href="css/style.css">
</head>

<body>
<!-- [Div pai de todas] -->
<div class="container">

    <div class="row">

        <!-- [Div Inicio Formulário] -->
        <div class="">
            <form>

                <hr>

                <!-- [Formulário] -->
                <h1>Formulário</h1>

                <div class="row">
                    <div class="col-md-5 mb-4">
                        <div class="form-outline">
                            <input type="text" name="cnpj" id="doc" placeholder="000.000.000-00"
                                   class="form-control bg-light cpfcnpj" onfocusout="verificarCampo('inputCpfCnpj')"
                                   onChange="handleChangeMask" data-mask="00.000.000/0000-00"
                                   onblur="checkCnpj(this.value)" required/>
                            <label class="form-label" for="doc">CPF/CNPJ</label>
                        </div>
                    </div>

                    <div class="col-md-7 mb-4">
                        <div class="form-outline">
                            <input type="text" name="remetente" id="remetente" placeholder="Nome Completo"
                                   class="form-control bg-light" aria-describedby="validationTooltipUsernamePrepend"
                                   required/>
                            <label class="form-label" for="remetente">Nome</label>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4">
                        <div class="form-outline mb-4">
                            <input type="text" name="cep" id="cep" placeholder="00000-000" class="form-control bg-light"
                                   maxlength="8" required/>
                            <label class="form-label" for="cep">CEP</label>
                        </div>
                    </div>

                    <div class="col-md-8">
                        <div class="form-outline mb-4">
                            <input type="text" name="endereco" id="endereco" placeholder="Nome da rua ou avenida"
                                   class="form-control bg-light" required/>
                            <label class="form-label" for="endereco">Endereço</label>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-3">
                        <div class="form-outline mb-4">
                            <input type="text" name="numero" id="numero" placeholder="n°" class="form-control bg-light"
                                   required/>
                            <label class="form-label" for="numero">Numero</label>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <div class="form-outline mb-4">
                            <input type="text" name="complemento" id="complemento" placeholder="ex: AP 2"
                                   class="form-control bg-light"
                                   required/>
                            <label class="form-label" for="complemento">Complemento</label>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-outline mb-4">
                            <input type="text" name="cidade" id="cidade" placeholder="ex: São Paulo"
                                   class="form-control bg-light"
                                   required/>
                            <label class="form-label" for="cidade">Cidade</label>
                        </div>
                    </div>

                    <div class="col-md-2">
                        <div class="form-outline mb-4">
                            <input type="text" name="uf" id="uf" placeholder="SP" maxlength="2"
                                   class="form-control bg-light"
                                   required/>
                            <label class="form-label" for="uf">Estado</label>
                        </div>
                    </div>

                    <div class="col-md-8">
                        <div class="form-outline mb-4">
                            <input type="email" name="contato" id="contato" placeholder="Coloque o seu melhor e-mail"
                                   class="form-control bg-light" required/>
                            <label class="form-label" for="contato">Email</label>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-outline mb-4">
                            <input type="tel" name="telefone" id="telefone" placeholder="(xx) x-xxxx-xxxx"
                                   class="form-control bg-light"
                                   maxlength="15" onkeyup="handlePhone(event)" required/>
                            <label class="form-label" for="telefone">Telefone/Celular</label>
                        </div>
                    </div>

                    <div class="form-check form-switch mx-3">
                        <input class="form-check-input" type="checkbox" role="switch" id="Check">
                        <label class="form-check-label" for="Check">Deseja salvar o formulário?</label>
                    </div>
                </div>

            </form>

        </div>

    </div>

    <hr>

</div>

<!-- [Scripts MDB] -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.js"
        type="text/javascript"></script>

<!-- [Scripts Bootstrap] -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js"
        integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk"
        crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
        integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.3.0/jquery.form.min.js"></script>

<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>

<script src="https://code.jquery.com/qunit/qunit-2.19.3.js"
        integrity="sha256-C3f02PmJZRJ0wvaPBTN1oztdkwQJJHeVj4UR5HrG8J4=" crossorigin="anonymous"></script>

<!--[Celular/Telefone]-->
<script>
    const handlePhone = (event) => {
        let input = event.target
        input.value = phoneMask(input.value)
    }

    const phoneMask = (value) => {
        if (!value) return ""
        value = value.replace(/\D/g, '')
        value = value.replace(/(\d{2})(\d)/, "($1) $2")
        value = value.replace(/(\d)(\d{4})$/, "$1-$2")
        return value
    }
</script>

<script>
    $('#cnpj').mask('000.000.000-00', {
        onKeyPress: function (cnpj, e, field, options) {
            const masks = ['000.000.000-000', '00.000.000/0000-00'];
            const mask = (cnpj.length > 14) ? masks[1] : masks[0];
            $('#cnpj').mask(mask, options);
        }
    });
</script>

<!--[Script que Define CPF e CNPJ]-->
<script>
    let x = document.getElementsByClassName("cpfcnpj");
    for (i = 0; i < x.length; i++) {
        x[i].addEventListener('focus', function (e) {
            document.getElementById(e.target.id).select();
        });
    }
    for (let i = 0; i < x.length; i++) {
        x[i].addEventListener('keyup', myFunction, false);
    }

    function myFunction(e) {
        x = '';
        if (e.keyCode == 8 || e.keyCode == 46) {
            return false;
        }
        if (e.keyCode >= 48 || e.keyCode <= 57) {

            let id = e.target.id;
            document.getElementById(id).setAttribute('maxlength', 18);
            let str = e.target.value.replace(/\D/g, '');
            //var str = str.replace(/^0+/, '');
            let len = str.length; //
            if (len == 11) {
                x = str.substr(0, 3) + '.' + str.substr(3, 3) + '.' + str.substr(6, 3) + '-' + str.substr(9, 2);
                ; // 510.791.784-49
            } else if (len > 11 && len < 15) {
                x = str.substr(0, 2) + '.' + str.substr(2, 3) + '.' + str.substr(5, 3) + '/' + str.substr(8, 4) + '-' + str.substr(12, 2);  // 04.498.492/0001-67
            } else {
                x = str;
            }
            document.getElementById(id).value = x;
        }
    }
</script>

<!--[Script de Validação do CEP, completa os campos do endereço com ele]-->
<script>
    $("#cep").blur(function () {

        let cep = this.value.replace(/[^0-9]/, "");

        if (cep.length != 8) {
            return false;
        }

        let url = "https://viacep.com.br/ws/" + cep + "/json/";

        $.getJSON(url, function (dadosRetorno) {
            try {
                $("#endereco").val(dadosRetorno.logradouro);
                $("#cidade").val(dadosRetorno.localidade);
                $("#uf").val(dadosRetorno.uf);
            } catch (ex) {
            }
        });
    });
</script>

<!-- [Script para Validar Formato do CEP] -->
<script>
    $(document).ready(function () {
        let $campo = $("#cep");
        $campo.mask('00.000-000', {reverse: true});
    });
</script>

<!-- [Script para validar os campos] -->
<script>
    (function alertList() {
        'use strict'
        const forms = document.querySelectorAll('.needs-validation')
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }

                    form.classList.add('was-validated')
                }, false)
            })
    })()
</script>

</body>

</html>